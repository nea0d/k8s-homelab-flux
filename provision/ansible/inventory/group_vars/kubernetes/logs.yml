---
systemd_journal_system_max_use: 15M
systemd_journal_system_max_file_size: 5M
systemd_journal_system_max_rentention_sec: 2day
systemd_journal_system_max_file_sec: 1day

logrotate_scripts:
  - name: allvarlogs
    path: /var/log/*.log
    options:
      - rotate 1
      - daily
      - dateext
      - size 5M
      - compress
      - delaycompress
      - missingok
      - copytruncate
      - dateformat -%Y%m%d-%s
      - create 0644 root root

  - name: allpodlogs
    path: /var/log/pods/*/*/*.log
    options:
      - rotate 1
      - daily
      - copytruncate
      - compress
      - delaycompress
      - missingok
      - notifempty
      - size 5M
      - dateext
      - dateformat -%Y%m%d-%s
      - create 0644 root root

  - name: calico
    path: /var/log/calico/cni/*.log
    options:
      - rotate 1
      - daily
      - copytruncate
      - compress
      - delaycompress
      - missingok
      - notifempty
      - size 1M
      - dateext
      - dateformat -%Y%m%d-%s
      - create 0644 root root

  - name: rsyslog
    path: /var/log/syslog
    options:
      - size 10M
      - rotate 1
      - daily
      - compress
      - delaycompress
      - missingok
      - notifempty
      - copytruncate
      - dateext
      - dateformat -%Y%m%d-%s
    scripts:
      postrotate: /usr/lib/rsyslog/rsyslog-rotate

  - name: rsyslog-msg
    paths:
      - /var/log/mail.info
      - /var/log/mail.warn
      - /var/log/mail.err
      - /var/log/mail.log
      - /var/log/daemon.log
      - /var/log/kern.log
      - /var/log/auth.log
      - /var/log/user.log
      - /var/log/lpr.log
      - /var/log/cron.log
      - /var/log/debug
      - /var/log/messages
    options:
      - size 5M
      - rotate 1
      - daily
      - compress
      - delaycompress
      - missingok
      - notifempty
      - copytruncate
      - sharedscripts
      - dateext
      - dateformat -%Y%m%d-%s
    scripts:
      postrotate: /usr/lib/rsyslog/rsyslog-rotate
